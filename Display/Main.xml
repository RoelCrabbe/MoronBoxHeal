<Ui xmlns="http://www.blizzard.com/wow/ui/"   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://www.blizzard.com/wow/ui/">

    <Frame name="MoronBoxHealMainFrame" frameStrata="LOW" toplevel="true" enableMouse="true" movable="true" hidden="true" parent="UIParent" inherits="MoronBoxHealFrameTemplate">
        
        <Frames>
            <Button name="MoronBoxHealMainFrameGeneral" inherits="MoronBoxHealGeneralTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>
            
            <Button name="MoronBoxHealMainFrameOption" inherits="MoronBoxHealOptionTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealMainFrameGeneral">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealMainFrameProtection" inherits="MoronBoxHealProtectionTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealMainFrameOption">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealMainFrameFrameClose" inherits="MoronBoxHealCloseButtonTemplate">

                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameFrameCloseText" inherits="GameFontNormal" text="MBH_HIDE">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER" />
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        MoronBoxHealMainFrameFrameCloseText:SetText(MBH_EXIT);
                        MBH_SetBackdropColors("Red500");
                    </OnEnter>
                    <OnLeave>
                        MoronBoxHealMainFrameFrameCloseText:SetText(MBH_HIDE);
                        MBH_SetBackdropColors("Gray600");
                    </OnLeave>
                </Scripts>
                
            </Button>

            <Button name="MoronBoxHealMainFrameDefault" inherits="MoronBoxHealDefaultTemplate">

                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="15" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealMainFramePreset" inherits="MoronBoxHealPresetTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealMainFrameDefault">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Frame name="MoronBoxHealMainFrameTextContainer" inherits="MoronBoxHealFrameInnerContainerTemplate">

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameText" inherits="GameFontNormal" text="MBH_INFORMATION" wordWrap="true">
                            <Size>
                                <AbsDimension x="480" y="350" />
                            </Size>
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER" />
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>
        </Frames>
    </Frame>

    <Frame name="MoronBoxHealOptionFrame" frameStrata="LOW" toplevel="true" enableMouse="true" movable="true" hidden="true" parent="UIParent" inherits="MoronBoxHealFrameTemplate">

        <Frames>
            <Button name="MoronBoxHealOptionFrameGeneral" inherits="MoronBoxHealGeneralTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>
            
            <Button name="MoronBoxHealOptionFrameOption" inherits="MoronBoxHealOptionTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealOptionFrameGeneral">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealOptionFrameProtection" inherits="MoronBoxHealProtectionTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealOptionFrameOption">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealOptionFrameClose" inherits="MoronBoxHealCloseButtonTemplate">

                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameCloseText" inherits="GameFontNormal" text="MBH_HIDE">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER" />
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        MoronBoxHealOptionFrameCloseText:SetText(MBH_EXIT);
                        MBH_SetBackdropColors("Red500");
                    </OnEnter>
                    <OnLeave>
                        MoronBoxHealOptionFrameCloseText:SetText(MBH_HIDE);
                        MBH_SetBackdropColors("Gray600");
                    </OnLeave>
                </Scripts>

            </Button>

            <Button name="MoronBoxHealOptionFrameDefault" inherits="MoronBoxHealDefaultTemplate">

                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="15" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealOptionFramePreset" inherits="MoronBoxHealPresetTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealOptionFrameDefault">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Frame name="MoronBoxHealOptionAutoHealFrame" inherits="MoronBoxHealOptionContainerTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="35" y="-75" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_HEALSETTINGS">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionFrameSmartHealCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="65"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionFrameSmartHealCheckboxText" inherits="GameFontNormal" text="MBH_SMARTHEAL">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionFrameSmartHealCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.AutoHeal.Smart_Heal = (this:GetChecked() == 1);
                            </OnClick>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.AutoHeal.Smart_Heal and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>

                    <Slider name="MoronBoxHealOptionFrameAllowedOverhealSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="15"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_AllowedOverhealPercentageSlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_AllowedOverhealPercentageSlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <CheckButton name="MoronBoxHealOptionFrameRandomTargetCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-15"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionFrameRandomTargetCheckboxText" inherits="GameFontNormal" text="MBH_RANDOMTARGET">
                                    <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionFrameRandomTargetCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.AutoHeal.Random_Target = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_RANDOMTARGET);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.AutoHeal.Random_Target and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>
                    
                    <Slider name="MoronBoxHealOptionFrameHealTargetNumberSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-65"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Scripts>
                            <OnValueChanged>
                                MBH_HealTargetNumberSlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_HealTargetNumberSlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>
                </Frames>
            </Frame>

            <Frame name="MoronBoxHealOptionExtendedRangeFrame" inherits="MoronBoxHealOptionContainerTemplate">
                            
                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-35" y="-75" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_RANGSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionExtendedRangeCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionExtendedRangeFrame">
                                <Offset>
                                    <AbsDimension x="0" y="35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionExtendedRangeCheckboxText" inherits="GameFontNormal" text="MBH_EXTENDEDRANGE">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionExtendedRangeCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.ExtendedRange.Enable = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_EXTENDEDRANGE);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.ExtendedRange.Enable and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>

                    <Slider name="MoronBoxHealOptionExtendedRangeSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionExtendedRangeFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Scripts>
                            <OnValueChanged>
                                MBH_ExtendedRangeFrequencySlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_ExtendedRangeFrequencySlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>
                </Frames>
            </Frame>

            <Frame name="MoronBoxHealOptionLineOfSightFrame" inherits="MoronBoxHealOptionContainerTemplate">
                            
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="MoronBoxHealOptionAutoHealFrame">
                        <Offset>
                            <AbsDimension x="0" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_LOSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionLineOfSightCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionLineOfSightFrame">
                                <Offset>
                                    <AbsDimension x="0" y="35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionLineOfSightCheckboxText" inherits="GameFontNormal" text="MBH_LINEOFSIGHT">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionLineOfSightCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.ExtendedRange.Enable = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_LINEOFSIGHT);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.ExtendedRange.Enable and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>

                    <Slider name="MoronBoxHealOptionLineOfSightSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionLineOfSightFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_LineOfSightTimeOutSlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_LineOfSightTimeOutSlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>
                </Frames>
            </Frame>

            <Frame name="MoronBoxHealAdvancedOptionFrame" inherits="MoronBoxHealOptionContainerTemplate">
                            
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="MoronBoxHealOptionExtendedRangeFrame">
                        <Offset>
                            <AbsDimension x="0" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_SPECIALSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionManaProtectionCheckbox" inherits="SMOptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealAdvancedOptionFrame">
                                <Offset>
                                    <AbsDimension x="0" y="35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionManaProtectionCheckboxText" inherits="GameFontNormal" text="MBH_MANAPROTECTION">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionManaProtectionCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.AdvancedOptions.Mana_Protection = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_MANAPROTECTION);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.AdvancedOptions.Mana_Protection and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>
                </Frames>
            </Frame>
        </Frames>
    </Frame>

    <Frame name="MoronBoxHealProtectionFrame" frameStrata="LOW" toplevel="true" enableMouse="true" movable="true" hidden="true" parent="UIParent" inherits="MoronBoxHealFrameTemplate">
        
        <Frames>
            <Button name="MoronBoxHealProtectionFrameGeneral" inherits="MoronBoxHealGeneralTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>
            
            <Button name="MoronBoxHealProtectionFrameOption" inherits="MoronBoxHealOptionTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFrameGeneral">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealProtectionFrameProtection" inherits="MoronBoxHealProtectionTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFrameOption">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealProtectionFrameClose" inherits="MoronBoxHealCloseButtonTemplate">

                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealProtectionFrameCloseText" inherits="GameFontNormal" text="MBH_HIDE">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER" />
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        MoronBoxHealProtectionFrameCloseText:SetText(MBH_EXIT);
                        MBH_SetBackdropColors("Red500");
                    </OnEnter>
                    <OnLeave>
                        MoronBoxHealProtectionFrameCloseText:SetText(MBH_HIDE);
                        MBH_SetBackdropColors("Gray600");
                    </OnLeave>
                </Scripts>

            </Button>

            <Button name="MoronBoxHealProtectionFrameDefault" inherits="MoronBoxHealDefaultTemplate">

                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="15" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <Button name="MoronBoxHealProtectionFramePreset" inherits="MoronBoxHealPresetTemplate">

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFrameDefault">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

            </Button>

            <!-- Priests -->
            <Frame name="MoronBoxHealProtectionFramePriestContainer" inherits="MoronBoxHealFrameInnerContainerTemplate">

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameFlashHealText" inherits="GameFontNormalHuge" text="MBH_SPELL_FLASH_HEAL" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                    <Offset>
                                        <AbsDimension x="90" y="-25" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameHealText" inherits="GameFontNormalHuge" text="MBH_SPELL_HEAL" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="TOP" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                    <Offset>
                                        <AbsDimension y="-35" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameGreaterHealText" inherits="GameFontNormalHuge" text="MBH_SPELL_GREATER_HEAL" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                   <Offset>
                                        <AbsDimension x="-85" y="-25" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>

                    <!-- Flash Heal -->
                    <Slider name="MoronBoxHealFlashHealProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Size>
                            <AbsDimension x="180" y="16"/>
                        </Size>

                        <Anchors>
                            <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                <Offset>
                                    <AbsDimension x="35" y="-75" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_FlashHealProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_FlashHealProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealFlashHealProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealFlashHealProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealFlashHealProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealFlashHealProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Flash_Heal_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateFlashHealInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateFlashHealInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Flash_Heal_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Flash_Heal_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealFlashHealProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealFlashHealProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealFlashHealProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealFlashHealProtectionhresholdHARText" inherits="GameFontNormal" text="MBH_HIGHEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealFlashHealProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Flash_Heal_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateFlashHealInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateFlashHealInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Flash_Heal_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Flash_Heal_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealHealProtectionhresholdLAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <!-- Heal -->
                    <Slider name="MoronBoxHealHealProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Size>
                            <AbsDimension x="180" y="16"/>
                        </Size>

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="TOP" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                <Offset>
                                    <AbsDimension y="-83" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_HealProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_HealProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealHealProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealHealProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealHealProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealHealProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Heal_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateHealInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateHealInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Heal_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Heal_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealHealProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealHealProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealHealProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealHealProtectionhresholdHARText" inherits="GameFontNormal" text="MBH_HIGHEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealHealProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Heal_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateHealInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateHealInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Heal_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Heal_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealGreaterHealProtectionhresholdLAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <!-- Greater Heal -->
                    <Slider name="MoronBoxHealGreaterHealProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Size>
                            <AbsDimension x="180" y="16"/>
                        </Size>

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                <Offset>
                                    <AbsDimension x="-35" y="-75" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_GreaterHealProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_GreaterHealProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealGreaterHealProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealGreaterHealProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealGreaterHealProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealGreaterHealProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Greater_Heal_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateGreaterHealInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateGreaterHealInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Greater_Heal_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Greater_Heal_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealGreaterHealProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealGreaterHealProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealGreaterHealProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealGreaterHealProtectionhresholdHARText" inherits="GameFontNormal" text="MBH_HIGHEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealGreaterHealProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Greater_Heal_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateGreaterHealInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateGreaterHealInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Greater_Heal_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Greater_Heal_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                this:ClearFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>
                </Frames>
            </Frame>

            <!-- Shamans -->
            <Frame name="MoronBoxHealProtectionFrameShamanContainer" inherits="MoronBoxHealFrameInnerContainerTemplate">

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameChainHealText" inherits="GameFontNormalHuge" text="MBH_SPELL_CHAIN_HEAL" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="MoronBoxHealProtectionFrameShamanContainer">
                                    <Offset>
                                        <AbsDimension x="145" y="-25" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameLesserHealingWaveText" inherits="GameFontNormalHuge" text="MBH_SPELL_LESSER_HEALING_WAVE" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFrameShamanContainer">
                                   <Offset>
                                        <AbsDimension x="-110" y="-25" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>

                    <!-- Chain Heal -->
                    <Slider name="MoronBoxHealChainHealProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="MoronBoxHealProtectionFrameShamanContainer">
                                <Offset>
                                    <AbsDimension x="75" y="-75" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_ChainHealProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_ChainHealProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealChainHealProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealChainHealProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealChainHealProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealChainHealProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Chain_Heal_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateChainHealInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateChainHealInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Chain_Heal_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Chain_Heal_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealChainHealProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealChainHealProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealChainHealProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealChainHealProtectionhresholdHARText" inherits="GameFontNormal" text="MBH_HIGHEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealChainHealProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Chain_Heal_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateChainHealInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateChainHealInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Chain_Heal_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Chain_Heal_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealLesserHealingWaveProtectionhresholdLAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <!-- Lesser Healing Wave -->
                    <Slider name="MoronBoxHealLesserHealingWaveProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealProtectionFrameShamanContainer">
                                <Offset>
                                    <AbsDimension x="-75" y="-75" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_LesserHealingWaveProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_LesserHealingWaveProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealLesserHealingWaveProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealLesserHealingWaveProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealLesserHealingWaveProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealLesserHealingWaveProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Lesser_Healing_Wave_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateLesserHealingWaveInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateLesserHealingWaveInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Lesser_Healing_Wave_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Lesser_Healing_Wave_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealLesserHealingWaveProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealLesserHealingWaveProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealLesserHealingWaveProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealLesserHealingWaveProtectionhresholdHARText" inherits="GameFontNormal" text="Highest Rank: " justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealLesserHealingWaveProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Lesser_Healing_Wave_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateLesserHealingWaveInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateLesserHealingWaveInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Lesser_Healing_Wave_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Lesser_Healing_Wave_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                this:ClearFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>
                </Frames>
            </Frame>

            <!-- Paladins -->
            <Frame name="MoronBoxHealProtectionFramePaladinContainer" inherits="MoronBoxHealFrameInnerContainerTemplate">

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameHolyLightText" inherits="GameFontNormalHuge" text="MBH_SPELL_HOLY_LIGHT" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="TOP" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                    <Offset>
                                        <AbsDimension y="-35" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>

                    <!-- Holy Light -->
                    <Slider name="MoronBoxHealHolyLightProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="TOP" relativeTo="MoronBoxHealProtectionFramePaladinContainer">
                                <Offset>
                                    <AbsDimension y="-83" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_HolyLightProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_HolyLightProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealHolyLightProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealHolyLightProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealHolyLightProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealHolyLightProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Holy_Light_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateHolyLightInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateHolyLightInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Holy_Light_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Holy_Light_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealHolyLightProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealHolyLightProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealHolyLightProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealHolyLightProtectionhresholdHARText" inherits="GameFontNormal" text="MBH_HIGHEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealHolyLightProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Holy_Light_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateHolyLightInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateHolyLightInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Holy_Light_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Holy_Light_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                this:ClearFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>
                </Frames>
            </Frame>

            <!-- Druids -->
            <Frame name="MoronBoxHealProtectionFrameDruidContainer" inherits="MoronBoxHealFrameInnerContainerTemplate">

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameRegrowthText" inherits="GameFontNormalHuge" text="MBH_SPELL_REGROWTH" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="TOP" relativeTo="MoronBoxHealProtectionFramePriestContainer">
                                    <Offset>
                                        <AbsDimension y="-35" />
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Frames>

                    <!-- Regrowth -->
                    <Slider name="MoronBoxHealRegrowthProtectionhresholdSlider" inherits="MoronBoxHealOptionSlicerTemplate">
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="TOP" relativeTo="MoronBoxHealProtectionFrameDruidContainer">
                                <Offset>
                                    <AbsDimension y="-83" />
                                </Offset>
                            </Anchor>
                        </Anchors>
                        
                        <Scripts>
                            <OnValueChanged>
                                MBH_RegrowthProtectionThresholdSlider_OnValueChanged();
                            </OnValueChanged>
                            <OnShow>
                                MBH_RegrowthProtectionThresholdSlider_OnShow();
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <EditBox name="MoronBoxHealRegrowthProtectionhresholdLAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealRegrowthProtectionhresholdSlider">
                                <Offset>
                                    <AbsDimension x="50" y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealRegrowthProtectionhresholdLARText" inherits="GameFontNormal" text="MBH_LOWEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealRegrowthProtectionhresholdLAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Regrowth_LAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateRegrowthInputLAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateRegrowthInputLAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Regrowth_LAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Regrowth_LAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                MoronBoxHealRegrowthProtectionhresholdHAR:SetFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>

                    <EditBox name="MoronBoxHealRegrowthProtectionhresholdHAR" inherits="MoronBoxHealEditBoxTemplate">

                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealRegrowthProtectionhresholdLAR">
                                <Offset>
                                    <AbsDimension y="-50" />
                                </Offset>
                            </Anchor>
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealRegrowthProtectionhresholdHARText" inherits="GameFontNormal" text="MBH_HIGHEST_RANK" justifyH="CENTER">
                                    <Anchors>
                                        <Anchor point="CENTER" relativePoint="LEFT" relativeTo="MoronBoxHealRegrowthProtectionhresholdHAR">
                                            <Offset>
                                                <AbsDimension x="-70" />
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnShow>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Regrowth_HAR);
                            </OnShow>
                            <OnTextChanged>
                                MBH_ValidateRegrowthInputHAR();
                            </OnTextChanged>
                            <OnEnterPressed>
                                MBH_ValidateRegrowthInputHAR();
                                this:ClearFocus();
                            </OnEnterPressed>
                            <OnEditFocusLost>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Regrowth_HAR);
                            </OnEditFocusLost>
                            <OnEscapePressed>
                                this:SetText(MoronBoxHeal_Options.ManaProtectionValues.Regrowth_HAR);
                                this:ClearFocus();
                            </OnEscapePressed>
                            <OnTabPressed>
                                this:ClearFocus();
                            </OnTabPressed>
                        </Scripts>
                    </EditBox>
                </Frames>
            </Frame>
        </Frames>
    </Frame>

	<Button name="MoronBoxHealMiniMapButton" frameStrata="LOW" parent="Minimap" enableMouse="true" movable="true" toplevel="true" hidden="false">

		<Size>
			<AbsDimension x="32" y="32"/>
		</Size>

		<Anchors>
			<Anchor point="TOPLEFT"/>
		</Anchors>

        <Layers>
			<Layer level="BACKGROUND">
				<Texture name="MoronBoxHealMiniMapButtonIcon" file="Interface\Icons\Spell_Nature_HealingTouch">
					<Size>
						<AbsDimension x="18" y="18"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="7" y="-6"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.075" right="0.925" top="0.075" bottom="0.925"/>
				</Texture>
			</Layer>
            <Layer level="OVERLAY">
                <Texture file="Interface\Minimap\MiniMap-TrackingBorder">
                    <Size>
                        <AbsDimension x="52" y="52"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Texture>
            </Layer>
		</Layers>

		<Scripts>
			<OnLoad>
				this:RegisterForClicks("LeftButtonUp", "RightButtonUp");
                this:RegisterForDrag("LeftButton");
			</OnLoad>
            <OnEnter>
                GameTooltip:SetOwner(this, "ANCHOR_BOTTOMLEFT");
                GameTooltip:SetText("MoronBoxHeal", 1, 1, 0.5);
                GameTooltip:AddLine("Click to show/hide the main frame.");
                GameTooltip:Show();
            </OnEnter>
            <OnLeave>
                GameTooltip:Hide();
            </OnLeave>
			<OnClick>
                MoronBoxHealMiniMapButtonIcon:SetTexCoord(0.075, 0.925, 0.075, 0.925);
                if ( not MoronBoxHealMainFrame:IsShown() ) then
                    MBH_ResetAllWindow()
                    MoronBoxHealMainFrame:Show()
                else 
                    MoronBoxHealMainFrame:Hide()
                end
			</OnClick>
            <OnDragStart>
                MoronBoxHealMiniMapButtonIcon:SetTexCoord(0, 1, 0, 1);
                if (  ( not this.isMiniMapMoving ) and ( arg1 == "LeftButton" ) ) then
                    this:SetScript("OnUpdate", MBH_MoronBoxHealMiniMapButton_OnUpdate);
                    this.isMiniMapMoving = true;
                end
            </OnDragStart>
            <OnDragStop>
                MoronBoxHealMiniMapButtonIcon:SetTexCoord(0.075, 0.925, 0.075, 0.925);
                if ( this.isMiniMapMoving ) then
                    this:SetScript("OnUpdate", nil);
                    this.isMiniMapMoving = false;
                end
            </OnDragStop>
            <OnMouseDown>
				MoronBoxHealMiniMapButtonIcon:SetTexCoord(0, 1, 0, 1);
			</OnMouseDown>
			<OnMouseUp>
				MoronBoxHealMiniMapButtonIcon:SetTexCoord(0.075, 0.925, 0.075, 0.925);
			</OnMouseUp>
		</Scripts>

        <HighlightTexture alphaMode="ADD" file="Interface\Minimap\UI-Minimap-ZoomButton-Highlight"/>
	</Button>

    <GameTooltip name="ScanningTooltip" inherits="GameTooltipTemplate">
        <Scripts>
            <Onload>
                this:SetOwner(this, "ANCHOR_NONE");
            </Onload>
        </Scripts>
    </GameTooltip>

    <Frame name="MultiBoxHeal">
        <Scripts>
            <OnLoad>
                MBH_OnLoad(this);
            </OnLoad>
            <OnEvent>
                MBH_OnEvent(event);
            </OnEvent>
            <OnUpdate>
                MBH_OnUpdate(arg1);
            </OnUpdate>
        </Scripts>
    </Frame>
</Ui>
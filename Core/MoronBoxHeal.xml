<Ui xmlns="http://www.blizzard.com/wow/ui/"   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://www.blizzard.com/wow/ui/">

    <Frame name="MoronBoxHealBackdrop" virtual="true">
        <Backdrop bgFile="Interface/Buttons/WHITE8X8" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="false">
            <EdgeSize>
                <AbsValue val="4"/>
            </EdgeSize>
            <TileSize>
                <AbsValue val="16"/>
            </TileSize>
            <BackgroundInsets>
                <AbsInset left="1" right="1" top="1" bottom="1"/>
            </BackgroundInsets>
        </Backdrop>
    </Frame>

    <Frame name="MoronBoxHealSlicerBackdrop" inherits="OptionsSliderTemplate" virtual="true">
        <Backdrop bgFile="Interface\Buttons\UI-SliderBar-Background" edgeFile="Interface\Buttons\UI-SliderBar-Border" tile="false">
            <EdgeSize>
                <AbsValue val="1"/>
            </EdgeSize>
            <TileSize>
                <AbsValue val="16"/>
            </TileSize>
            <BackgroundInsets>
                <AbsInset left="0" right="0" top="0" bottom="0"/>
            </BackgroundInsets>
        </Backdrop>
    </Frame>

    <Frame name="MoronBoxHealMainFrame" frameStrata="LOW" toplevel="true" enableMouse="true" movable="true" hidden="true" parent="UIParent" inherits="MoronBoxHealBackdrop">
        
        <Size>
            <AbsDimension x="800" y="550" />
        </Size>

        <Layers>
            <Layer level="OVERLAY">
                <FontString name="MoronBoxHealMainFrameTitle" inherits="GameFontNormalHuge" text="MBH_TITLE" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="CENTER" relativePoint="TOP">
                            <Offset>
                                <AbsDimension x="0" y="-30"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
            <Layer level="OVERLAY">
                <FontString name="MoronBoxHealMainFrameAuthor" inherits="GameFontNormal" text="MBH_AUTHOR" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
                            <Offset>
                                <AbsDimension x="-10" y="15"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>

        <Scripts>
            <OnShow>
                this:SetBackdropColor(GetColorValue("Gray750"));
                this:SetBackdropBorderColor(GetColorValue("Gray750"));
            </OnShow>
            <OnMouseUp>
                if ( this.isMoving ) then
                    this:StopMovingOrSizing();
                    this.isMoving = false;
                end
            </OnMouseUp>
            <OnMouseDown>
                if ( ( ( not this.isLocked ) or ( this.isLocked == 0 ) ) and ( arg1 == "LeftButton" ) ) then
                    this:StartMoving();
                    this.isMoving = true;
                end
            </OnMouseDown>
            <OnHide>
                if ( this.isMoving ) then
                    this:StopMovingOrSizing();
                    this.isMoving = false;
                end
            </OnHide>
        </Scripts>

        <Frames inherits="MoronBoxHealMainFrameGeneral">
            <Frame name="MoronBoxHealMainFrameTextContainer" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="680" y="400" /> 
                </Size>

                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parent">
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameText" inherits="GameFontNormal" text="MBH_INFORMATION" wordWrap="true">
                            <Size>
                                <AbsDimension x="480" y="350" /> <!-- Adjust size to fit the text -->
                            </Size>
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnShow>
                        MoronBoxHealMainFrameText:SetText(MBH_INFORMATION);
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                </Scripts>
            </Frame>

            <Button name="MoronBoxHealMainFrameGeneral" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="60" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameGeneralText" inherits="GameFontNormal" text="MBH_GENERAL">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_GENERAL");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        if ( not MoronBoxHealMainFrame:IsShown() ) then
                            MoronBoxHealMainFrame:Show()
                        end
                        MoronBoxHealOptionFrame:Hide()
                    </OnClick>
                </Scripts>
            </Button>
            
            <Button name="MoronBoxHealMainFrameOption" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="60" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealMainFrameGeneral">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameOptionText" inherits="GameFontNormal" text="MBH_OPTIONS">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_OPTIONS");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        if ( not MoronBoxHealOptionFrame:IsShown() ) then
                            MoronBoxHealOptionFrame:Show()
                        end
                        MoronBoxHealMainFrame:Hide()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealMainFrameClose" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="60" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameCloseText" inherits="GameFontNormal" text="MBH_HIDE">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_HIDE");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        MoronBoxHealMainFrame:Hide()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealMainFrameDefault" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="120" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFrameDefaultText" inherits="GameFontNormal" text="MBH_RESTOREDEFAULT">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_RESTOREDEFAULT");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        MBH_RestoreDefaultValues()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealMainFramePreset" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="100" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealMainFrameDefault">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealMainFramePresetText" inherits="GameFontNormal" text="MBH_PRESETSETTINGS">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_PRESETSETTINGS");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        MBH_SetPresetValues()
                    </OnClick>
                </Scripts>
            </Button>
        </Frames>
    </Frame>

    <Frame name="MoronBoxHealOptionFrame" frameStrata="LOW" toplevel="true" enableMouse="true" movable="true" hidden="true" parent="UIParent" inherits="MoronBoxHealBackdrop">

        <Size>
            <AbsDimension x="800" y="550" />
        </Size>

        <Layers>
            <Layer level="OVERLAY">
                <FontString name="MoronBoxHealMainFrameTitle" inherits="GameFontNormalHuge" text="MBH_TITLE" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="CENTER" relativePoint="TOP">
                            <Offset>
                                <AbsDimension x="0" y="-30"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
            <Layer level="OVERLAY">
                <FontString name="MoronBoxHealMainFrameAuthor" inherits="GameFontNormal" text="MBH_AUTHOR" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
                            <Offset>
                                <AbsDimension x="-10" y="15"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>

        <Scripts>
            <OnShow>
                this:SetBackdropColor(GetColorValue("Gray750"));
                this:SetBackdropBorderColor(GetColorValue("Gray750"));
            </OnShow>
            <OnMouseUp>
                if ( this.isMoving ) then
                    this:StopMovingOrSizing();
                    this.isMoving = false;
                end
            </OnMouseUp>
            <OnMouseDown>
                if ( ( ( not this.isLocked ) or ( this.isLocked == 0 ) ) and ( arg1 == "LeftButton" ) ) then
                    this:StartMoving();
                    this.isMoving = true;
                end
            </OnMouseDown>
            <OnHide>
                if ( this.isMoving ) then
                    this:StopMovingOrSizing();
                    this.isMoving = false;
                end
            </OnHide>
        </Scripts>

        <Frames>
            <Button name="MoronBoxHealOptionFrameGeneral" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="60" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameGeneralText" inherits="GameFontNormal" text="MBH_GENERAL">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_GENERAL");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        if ( not MoronBoxHealMainFrame:IsShown() ) then
                            MoronBoxHealMainFrame:Show()
                        end
                        MoronBoxHealOptionFrame:Hide()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealOptionFrameOption" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="60" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealOptionFrameGeneral">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameOptionText" inherits="GameFontNormal" text="MBH_OPTIONS">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_OPTIONS");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        if ( not MoronBoxHealOptionFrame:IsShown() ) then
                            MoronBoxHealOptionFrame:Show()
                        end
                        MoronBoxHealMainFrame:Hide()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealOptionFrameClose" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="60" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-10" y="-15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameCloseText" inherits="GameFontNormal" text="MBH_HIDE">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_HIDE");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        MoronBoxHealOptionFrame:Hide()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealOptionFrameDefault" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="120" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="10" y="15" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameDefaultText" inherits="GameFontNormal" text="MBH_RESTOREDEFAULT">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_RESTOREDEFAULT");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        MBH_RestoreDefaultValues()
                    </OnClick>
                </Scripts>
            </Button>

            <Button name="MoronBoxHealOptionFramePreset" inherits="MoronBoxHealBackdrop">

                <Size>
                    <AbsDimension x="100" y="25" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="MoronBoxHealOptionFrameDefault">
                        <Offset>
                            <AbsDimension x="4" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFramePresetText" inherits="GameFontNormal" text="MBH_PRESETSETTINGS">
                            <Anchors>
                                <Anchor point="CENTER" relativePoint="CENTER">
                                    <Offset>
                                        <AbsDimension x="0" y="0"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnEnter>
                        this:SetBackdropColor(GetColorValue("Gray400"));
                        this:SetBackdropBorderColor(GetColorValue("Gray400"));
                    </OnEnter>
                    <OnLeave>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnLeave>
                    <OnShow>
                        this:SetText("MBH_PRESETSETTINGS");
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                    <OnClick>
                        MBH_SetPresetValues()
                    </OnClick>
                </Scripts>
            </Button>

            <Frame name="MoronBoxHealOptionAutoHealFrame" inherits="MoronBoxHealBackdrop">
                            
                <Size>
                    <AbsDimension x="350" y="200" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="35" y="-75" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_HEALSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnShow>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                </Scripts>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionFrameSmartHealCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="65"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionFrameSmartHealCheckboxText" inherits="GameFontNormal" text="MBH_SMARTHEAL">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionFrameSmartHealCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.AutoHeal.Smart_Heal = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_SMARTHEAL);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.AutoHeal.Smart_Heal and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>

                    <Slider name="MoronBoxHealOptionFrameAllowedOverhealSlider" inherits="MoronBoxHealSlicerBackdrop">
                        
                        <Size>
                            <AbsDimension x="220" y="16"/>
                        </Size>
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="15"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>
                        
                        <Scripts>
                            <OnShow>
                                this:SetBackdropColor(GetColorValue("gray_950"));
                                this:SetBackdropBorderColor(GetColorValue("gray_950"));
                            </OnShow>
                            <OnValueChanged>
                                MBH_AllowedOverhealPercentageSlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_AllowedOverhealPercentageSlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>

                    <CheckButton name="MoronBoxHealOptionFrameRandomTargetCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-15"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionFrameRandomTargetCheckboxText" inherits="GameFontNormal" text="MBH_RANDOMTARGET">
                                    <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionFrameRandomTargetCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.AutoHeal.Random_Target = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_RANDOMTARGET);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.AutoHeal.Random_Target and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>
                    
                    <Slider name="MoronBoxHealOptionFrameHealTargetNumberSlider" inherits="MoronBoxHealSlicerBackdrop">
                        
                        <Size>
                            <AbsDimension x="220" y="16"/>
                        </Size>
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionAutoHealFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-65"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Scripts>
                            <OnShow>
                                this:SetBackdropColor(GetColorValue("gray_950"));
                                this:SetBackdropBorderColor(GetColorValue("gray_950"));
                            </OnShow>
                            <OnValueChanged>
                                MBH_HealTargetNumberSlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_HealTargetNumberSlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>
                </Frames>
            </Frame>

            <Frame name="MoronBoxHealOptionExtendedRangeFrame" inherits="MoronBoxHealBackdrop">
                            
                <Size>
                    <AbsDimension x="350" y="200" />
                </Size>

                <Anchors>
                    <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-35" y="-75" />
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_RANGSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnShow>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                </Scripts>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionExtendedRangeCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionExtendedRangeFrame">
                                <Offset>
                                    <AbsDimension x="0" y="35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionExtendedRangeCheckboxText" inherits="GameFontNormal" text="MBH_EXTENDEDRANGE">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionExtendedRangeCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.ExtendedRange.Enable = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_EXTENDEDRANGE);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.ExtendedRange.Enable and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>

                    <Slider name="MoronBoxHealOptionExtendedRangeSlider" inherits="MoronBoxHealSlicerBackdrop">
                        
                        <Size>
                            <AbsDimension x="220" y="16"/>
                        </Size>
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionExtendedRangeFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Scripts>
                            <OnShow>
                                this:SetBackdropColor(GetColorValue("gray_950"));
                                this:SetBackdropBorderColor(GetColorValue("gray_950"));
                            </OnShow>
                            <OnValueChanged>
                                MBH_ExtendedRangeFrequencySlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_ExtendedRangeFrequencySlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>
                </Frames>
            </Frame>

            <Frame name="MoronBoxHealOptionLineOfSightFrame" inherits="MoronBoxHealBackdrop">
                            
                <Size>
                    <AbsDimension x="350" y="200" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="MoronBoxHealOptionAutoHealFrame">
                        <Offset>
                            <AbsDimension x="0" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_LOSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnShow>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                </Scripts>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionLineOfSightCheckbox" inherits="OptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionLineOfSightFrame">
                                <Offset>
                                    <AbsDimension x="0" y="35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionLineOfSightCheckboxText" inherits="GameFontNormal" text="MBH_LINEOFSIGHT">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionLineOfSightCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.ExtendedRange.Enable = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_LINEOFSIGHT);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.ExtendedRange.Enable and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>

                    <Slider name="MoronBoxHealOptionLineOfSightSlider" inherits="MoronBoxHealSlicerBackdrop">
                        
                        <Size>
                            <AbsDimension x="220" y="16"/>
                        </Size>
                        
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealOptionLineOfSightFrame">
                                <Offset>
                                    <AbsDimension x="0" y="-35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>
                        
                        <Scripts>
                            <OnShow>
                                this:SetBackdropColor(GetColorValue("gray_950"));
                                this:SetBackdropBorderColor(GetColorValue("gray_950"));
                            </OnShow>
                            <OnValueChanged>
                                MBH_LineOfSightTimeOutSlider_OnValueChanged()
                            </OnValueChanged>
                            <OnShow>
                                MBH_LineOfSightTimeOutSlider_OnShow()
                            </OnShow>
                        </Scripts>
                    </Slider>
                </Frames>
            </Frame>

            <Frame name="MoronBoxHealAdvancedOptionFrame" inherits="MoronBoxHealBackdrop">
                            
                <Size>
                    <AbsDimension x="350" y="200" />
                </Size>

                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="MoronBoxHealOptionExtendedRangeFrame">
                        <Offset>
                            <AbsDimension x="0" y="-15"/>
                        </Offset>
                    </Anchor>
                </Anchors>

                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="MoronBoxHealOptionFrameTitle" inherits="GameFontNormal" text="MBH_SPECIALSETTINGS" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPLEFT">
                                    <Offset>
                                        <AbsDimension x="5" y="-5"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>

                <Scripts>
                    <OnShow>
                        this:SetBackdropColor(GetColorValue("Gray600"));
                        this:SetBackdropBorderColor(GetColorValue("Gray600"));
                    </OnShow>
                </Scripts>

                <Frames>
                    <CheckButton name="MoronBoxHealOptionManaProtectionCheckbox" inherits="SMOptionsCheckButtonTemplate">

                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" relativeTo="MoronBoxHealAdvancedOptionFrame">
                                <Offset>
                                    <AbsDimension x="0" y="35"/>
                                </Offset>
                            </Anchor>                            
                        </Anchors>

                        <Layers>
                            <Layer level="OVERLAY">
                                <FontString name="MoronBoxHealOptionManaProtectionCheckboxText" inherits="GameFontNormal" text="MBH_MANAPROTECTION">
                                     <Anchors>
                                        <Anchor point="RIGHT" relativePoint="LEFT" relativeTo="MoronBoxHealOptionManaProtectionCheckbox">
                                            <Offset>
                                                <AbsDimension x="-5" y="0"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>

                        <Scripts>
                            <OnClick>
                                MoronBoxHeal_Options.AdvancedOptions.Mana_Protection = (this:GetChecked() == 1);
                            </OnClick>
                            <OnLoad>
                                this:SetText(MBH_MANAPROTECTION);
                            </OnLoad>
                            <OnShow>
                                this:SetChecked(MoronBoxHeal_Options.AdvancedOptions.Mana_Protection and 1 or 0);
                            </OnShow>
                        </Scripts>
                    </CheckButton>
                </Frames>
            </Frame>
        </Frames>
    </Frame>

	<Button name="MoronBoxHealMiniMapButton" frameStrata="LOW" parent="Minimap" enableMouse="true" movable="true" toplevel="true" hidden="false">

		<Size>
			<AbsDimension x="32" y="32"/>
		</Size>

		<Anchors>
			<Anchor point="TOPLEFT"/>
		</Anchors>

        <Layers>
			<Layer level="BACKGROUND">
				<Texture name="MoronBoxHealMiniMapButtonIcon" file="Interface\Icons\Spell_Nature_HealingTouch">
					<Size>
						<AbsDimension x="18" y="18"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="7" y="-6"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.075" right="0.925" top="0.075" bottom="0.925"/>
				</Texture>
			</Layer>
            <Layer level="OVERLAY">
                <Texture file="Interface\Minimap\MiniMap-TrackingBorder">
                    <Size>
                        <AbsDimension x="52" y="52"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Texture>
            </Layer>
		</Layers>

		<Scripts>
			<OnLoad>
				this:RegisterForClicks("LeftButtonUp", "RightButtonUp");
                this:RegisterForDrag("LeftButton");
			</OnLoad>
            <OnEnter>
                GameTooltip:SetOwner(this, "ANCHOR_BOTTOMLEFT");
                GameTooltip:SetText("MoronBoxHeal", 1, 1, 0.5);
                GameTooltip:AddLine("Click to show/hide the main frame.");
                GameTooltip:Show();
            </OnEnter>
            <OnLeave>
                GameTooltip:Hide();
            </OnLeave>
			<OnClick>
                MoronBoxHealMiniMapButtonIcon:SetTexCoord(0.075, 0.925, 0.075, 0.925);
                if ( not MoronBoxHealMainFrame:IsShown() ) then
                    MBH_ResetAllWindow()
                    MoronBoxHealMainFrame:Show()
                else 
                    MoronBoxHealMainFrame:Hide()
                end
			</OnClick>
            <OnDragStart>
                MoronBoxHealMiniMapButtonIcon:SetTexCoord(0, 1, 0, 1);
                if (  ( not this.isMiniMapMoving ) and ( arg1 == "LeftButton" ) ) then
                    this:SetScript("OnUpdate", MoronBoxHealMiniMapButton_OnUpdate);
                    this.isMiniMapMoving = true;
                end
            </OnDragStart>
            <OnDragStop>
                MoronBoxHealMiniMapButtonIcon:SetTexCoord(0.075, 0.925, 0.075, 0.925);
                if ( this.isMiniMapMoving ) then
                    this:SetScript("OnUpdate", nil);
                    this.isMiniMapMoving = false;
                end
            </OnDragStop>
            <OnMouseDown>
				MoronBoxHealMiniMapButtonIcon:SetTexCoord(0, 1, 0, 1);
			</OnMouseDown>
			<OnMouseUp>
				MoronBoxHealMiniMapButtonIcon:SetTexCoord(0.075, 0.925, 0.075, 0.925);
			</OnMouseUp>
		</Scripts>

        <HighlightTexture alphaMode="ADD" file="Interface\Minimap\UI-Minimap-ZoomButton-Highlight"/>
	</Button>

    <GameTooltip name="ScanningTooltip" inherits="GameTooltipTemplate">
        <Scripts>
            <Onload>
                this:SetOwner(this, "ANCHOR_NONE");
            </Onload>
        </Scripts>
    </GameTooltip>

    <Frame name="MultiBoxHeal">
        <Scripts>
            <OnLoad>
                MBH_OnLoad(this);
            </OnLoad>
            <OnEvent>
                MBH_OnEvent(event);
            </OnEvent>
            <OnUpdate>
                MBH_OnUpdate(arg1);
            </OnUpdate>
        </Scripts>
    </Frame>
</Ui>
